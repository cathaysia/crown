[workspace]
resolver = "2"
members = ["bindings/c", "crates/crown-derive"]
exclude = ["crates/crown-bin"]

[package]
name = "crown"
version = "0.1.0"
edition = "2021"
description = "A cryptographic library."
license = "Apache-2.0"
readme = "README.md"
keywords = ["cryptography", "crypto", "encryption", "hashing", "cuda"]
categories = ["cryptography", "algorithms", "science"]
repository = "https://github.com/cathaysia/crown"
autoexamples = false
exclude = ["tests"]

[features]
default = ["std"]
## Enable std
std = ["alloc", "once_cell/std"]
## Enable alloc
alloc = []
## Enable Cuda. (Experimental)
cuda = []
## regenerate cuda sys.rs
bindgen = ["dep:bindgen"]
## Enable asm support. (Experimental)
asm = []
## Enable experimental features
unstable = []

[profile.relwithdebinfo]
inherits = "release"
debug = true
strip = false

[workspace.dependencies]
paste = "1.0.15"

[dependencies]
crown-derive = { path = "./crates/crown-derive", version = "0.1.0" }
thiserror = "2.0.12"
bytes = "1.10.1"
base64 = "0.22.1"
paste.workspace = true
libc = "0.2.175"
nix = "0.30.1"
document-features = "0.2.11"
once_cell = { version = "1.21.3", default-features = false, features = [
  "critical-section",
] }
tinyvec = "1.10.0"
block-padding = "0.3.3"

[build-dependencies]
cc = "1.2.34"
bindgen = { version = "0.72.1", optional = true }
toml = { version = "0.9.5", optional = true }
bitflags = "2.9.4"

[dev-dependencies]
crown = { path = ".", features = ["std"] }
rand = "0.9.2"
criterion = { version = "0.7", features = ["html_reports"] }
md5 = "0.8.0"
rc4 = "0.1.0"
cipher = "0.4.4"
sha2 = "0.10.9"
aes = "0.8.4"
ctr = "0.9.2"
des = "0.8.1"
chacha20 = "0.9.1"
hex = "0.4.3"
chacha20poly1305 = "0.10.1"
ring = "0.17.14"
sha3 = "0.10.8"
hmac = "0.12.1"
md4 = "0.10.2"
twofish = "0.7.1"
xtea = "0.0.1-pre.0"
cast5 = "0.11.1"
cbc = "0.1.2"
sha1 = "0.10.6"
digest = "0.10.7"
serde = { version = "1.0.219", features = ["derive"] }
serde_json = "1.0.142"
typify = "0.4.2"
blake2 = "0.10.6"
anyhow = "1.0.99"
aes-gcm = "0.10.3"
boring = "4.19.0"

[[bench]]
name = "md5"
harness = false

[[bench]]
name = "rc4"
harness = false

[[bench]]
name = "sha256"
harness = false

[[bench]]
name = "sha512"
harness = false

[[bench]]
name = "sha3"
harness = false

[[bench]]
name = "aes"
harness = false

[[bench]]
name = "aes_ctr"
harness = false

[[bench]]
name = "aes_gcm"
harness = false

[[bench]]
name = "des"
harness = false

[[bench]]
name = "des_ctr"
harness = false

[[bench]]
name = "xor"
harness = false

[[bench]]
name = "chacha20"
harness = false

[[bench]]
name = "chacha20poly1305"
harness = false

[[bench]]
name = "xchacha20poly1305"
harness = false

[[bench]]
name = "twofish"
harness = false
